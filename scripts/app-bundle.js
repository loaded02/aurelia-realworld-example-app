define("shared/state/shared-state",["exports","../models/user"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedState=void 0;e.SharedState=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentUser=new t.User,this.isAuthenticated=!1}}),define("shared/services/user-service",["exports","aurelia-dependency-injection","./api-service","./jwt-service","../models/user","../state/shared-state"],function(e,t,i,r,n,o){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.UserService=void 0;e.UserService=(0,t.inject)(i.ApiService,r.JwtService,o.SharedState)(a=function(){function r(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.apiService=e,this.jwtService=t,this.sharedState=i}return r.prototype.populate=function(){var t=this;this.jwtService.getToken()?this.apiService.get("/user").then(function(e){return t.setAuth(e.user)}):this.purgeAuth()},r.prototype.setAuth=function(e){this.jwtService.saveToken(e.token),this.sharedState.currentUser=e,this.sharedState.isAuthenticated=!0},r.prototype.purgeAuth=function(){this.jwtService.destroyToken(),this.sharedState.currentUser=new n.User,this.sharedState.isAuthenticated=!1},r.prototype.attemptAuth=function(e,t){var i=this,r="login"===e?"/login":"";return this.apiService.post("/users"+r,{user:t}).then(function(e){return i.setAuth(e.user),e})},r.prototype.update=function(e){var t=this;return this.apiService.put("/user",{user:e}).then(function(e){return t.sharedState.currentUser=e.user,e.user})},r}())||a}),define("shared/services/tag-service",["exports","aurelia-dependency-injection","./api-service"],function(e,t,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.TagService=void 0;e.TagService=(0,t.inject)(i.ApiService)(r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.apiService=e}return t.prototype.getList=function(){return this.apiService.get("/tags").then(function(e){return e.tags})},t}())||r}),define("shared/services/service-helper",["exports","./HttpError"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=function(e){if(200<=e.status&&e.status<400){if(e.headers.get("content-type").includes("text/html"))return e.text();if(e.headers.get("content-type").includes("application/json"))return e.json()}throw new t.HttpError(e)},e.parseError=function(i){if(!(i instanceof Error))return new Promise(function(e,t){return t(i.json())})}}),define("shared/services/profile-service",["exports","aurelia-dependency-injection","./api-service"],function(e,t,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileService=void 0;e.ProfileService=(0,t.inject)(i.ApiService)(r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.apiService=e}return t.prototype.get=function(e){return this.apiService.get("/profiles/"+e).then(function(e){return e.profile})},t.prototype.follow=function(e){return this.apiService.post("/profiles/"+e+"/follow")},t.prototype.unfollow=function(e){return this.apiService.delete("/profiles/"+e+"/follow")},t}())||r}),define("shared/services/jwt-service",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.JwtService=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.getToken=function(){return window.localStorage.jwtToken},e.prototype.saveToken=function(e){window.localStorage.jwtToken=e},e.prototype.destroyToken=function(){window.localStorage.removeItem("jwtToken")},e.prototype.isTokenValid=function(){return void 0!==this.getToken()&&""!==this.getToken()},e.prototype.getAuthorizationHeader=function(){if(this.isTokenValid())return"Token "+this.getToken()},e}()}),define("shared/services/http-interceptor",["exports","aurelia-dependency-injection","./jwt-service"],function(e,t,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.HttpInterceptor=void 0;var n="Authorization",o=(0,t.inject)(i.JwtService)(r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.jwtService=e}return t.prototype.request=function(e){return this.jwtService.isTokenValid()&&(e.headers.add&&!e.headers.get(n)&&e.headers.add(n,this.jwtService.getAuthorizationHeader()),e.headers.append&&!e.headers.get(n)&&e.headers.append(n,this.jwtService.getAuthorizationHeader())),e},t.prototype.response=function(e){return e},t}())||r;e.HttpInterceptor=o}),define("shared/services/config",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.config={api_url:"https://conduit.productionready.io/api"}}),define("shared/services/comment-service",["exports","aurelia-dependency-injection","./api-service"],function(e,t,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.CommentService=void 0;e.CommentService=(0,t.inject)(i.ApiService)(r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.apiService=e}return t.prototype.add=function(e,t){return this.apiService.post("/articles/"+e+"/comments",{comment:{body:t}}).then(function(e){return e.comment})},t.prototype.getList=function(e){return this.apiService.get("/articles/"+e+"/comments").then(function(e){return e.comments})},t.prototype.destroy=function(e,t){return this.apiService.delete("/articles/"+t+"/comments/"+e)},t}())||r}),define("shared/services/article-service",["exports","aurelia-dependency-injection","./api-service"],function(e,t,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ArticleService=void 0;e.ArticleService=(0,t.inject)(i.ApiService)(r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.apiService=e}return t.prototype.getList=function(e,t){return this.apiService.get("/articles"+("feed"===e?"/feed":""),t)},t.prototype.get=function(e){return this.apiService.get("/articles/"+e).then(function(e){return e.article})},t.prototype.destroy=function(e){return this.apiService.delete("/articles/"+e)},t.prototype.save=function(e){return e.slug?this.apiService.put("/articles/"+e.slug,{article:e}).then(function(e){return e.article}):this.apiService.post("/articles/",{article:e}).then(function(e){return e.article})},t.prototype.favorite=function(e){return this.apiService.post("/articles/"+e+"/favorite")},t.prototype.unfavorite=function(e){return this.apiService.delete("/articles/"+e+"/favorite")},t}())||r}),define("shared/services/api-service",["exports","./config","aurelia-fetch-client","aurelia-dependency-injection","querystringify","./jwt-service","./service-helper"],function(e,r,n,t,i,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApiService=void 0;var s,l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(i);e.ApiService=(0,t.inject)(n.HttpClient,o.JwtService)(s=function(){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.http=e,this.jwtService=t}return i.prototype.setHeaders=function(){return new Headers({"Content-Type":"application/json",Accept:"application/json"})},i.prototype.get=function(e,t){var i={method:"GET",headers:this.setHeaders()};return this.http.fetch(""+r.config.api_url+e+"?"+l.stringify(t),i).then(a.status).catch(a.parseError)},i.prototype.put=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i={method:"PUT",headers:this.setHeaders(),body:(0,n.json)(t)};return this.http.fetch(""+r.config.api_url+e,i).then(a.status).catch(a.parseError)},i.prototype.post=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i={method:"POST",headers:this.setHeaders(),body:(0,n.json)(t)};return this.http.fetch(""+r.config.api_url+e,i).then(a.status).catch(a.parseError)},i.prototype.delete=function(e){var t={method:"DELETE",headers:this.setHeaders()};return this.http.fetch(""+r.config.api_url+e,t).then(a.status).catch(a.parseError)},i}())||s}),define("shared/services/HttpError",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.HttpError=function(i){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this));return t.msg=e,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i),r}(Error)}),define("shared/models/user",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.User=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.email="",this.token="",this.username="",this.bio="",this.image=""}}),define("shared/layouts/header-layout",["exports","aurelia-dependency-injection","aurelia-framework","../state/shared-state"],function(e,t,i,r){"use strict";var n,o,a,s,l;Object.defineProperty(e,"__esModule",{value:!0}),e.HeaderLayout=void 0;var c,u,f,d,p,h;e.HeaderLayout=(n=(0,t.inject)(r.SharedState),o=(0,i.bindable)({defaultBindingMode:i.bindingMode.twoWay}),n((s=function(){function o(e){var t,i,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.activeRoute="",i="routerConfig",n=t=this,(r=l)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),this.sharedState=e}return o.prototype.routerConfigChanged=function(e,t){this.activeRoute=e.name},o}(),c=s.prototype,u="routerConfig",f=[o],d={enumerable:!0,initializer:null},h={},Object.keys(d).forEach(function(e){h[e]=d[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=f.slice().reverse().reduce(function(e,t){return t(c,u,e)||e},h),p&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(p):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(c,u,h),h=null),l=h,a=s))||a)}),define("text!shared/layouts/header-layout.html",["module"],function(e){e.exports='<template><nav class="navbar navbar-light"><div class="container"><a class="navbar-brand" route-href="route: home">conduit</a><ul class="nav navbar-nav pull-xs-right"><li class="${\'nav-item\' + (activeRoute === \'home\' ? \' active\' : \'\')}"><a class="nav-link" route-href="route: home">Home</a></li><li class="${\'nav-item\' + (activeRoute === \'create\' ? \' active\' : \'\')}" show.bind="sharedState.currentUser && sharedState.isAuthenticated"><a class="nav-link" route-href="route: editor"><i class="ion-compose"></i>&nbsp;New Post</a></li><li class="${\'nav-item\' + (activeRoute === \'settings\' ? \' active\' : \'\')}" show.bind="sharedState.currentUser && sharedState.isAuthenticated"><a class="nav-link" route-href="route: settings"><i class="ion-gear-a"></i>&nbsp;Settings</a></li><li class="${\'nav-item\' + (activeRoute === \'login\' ? \' active\' : \'\')}" show.bind="!sharedState.isAuthenticated"><a class="nav-link" route-href="route: login">Sign in</a></li><li class="${\'nav-item\' + (activeRoute === \'register\' ? \' active\' : \'\')}" show.bind="!sharedState.isAuthenticated"><a class="nav-link" route-href="route: register">Sign up</a></li><li class="${\'nav-item\' + (activeRoute === \'profile\' ? \' active\' : \'\')}" show.bind="sharedState.currentUser && sharedState.isAuthenticated"><a class="nav-link" route-href="route: profile; params.bind: {name: sharedState.currentUser.username}">${sharedState.currentUser.username}</a></li></ul></div></nav></template>'}),define("shared/layouts/footer-layout",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.FooterLayout=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}}),define("text!shared/layouts/footer-layout.html",["module"],function(e){e.exports='<template><footer><div class="container"><a href="/" class="logo-font">conduit</a> <span class="attribution">An interactive learning project from <a href="https://thinkster.io">Thinkster</a>. Code &amp; design licensed under MIT.</span></div></footer></template>'}),define("shared/index",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.configure=function(e){}}),define("shared/buttons/follow-button",["exports","aurelia-framework","aurelia-router","../../shared/state/shared-state","../../shared/services/profile-service"],function(e,t,i,r,n){"use strict";function o(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(i,r,e,t,n){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(i,r,e)||e},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(i,r,o),o=null),o}var s,l,c,u;Object.defineProperty(e,"__esModule",{value:!0}),e.FollowButton=void 0;e.FollowButton=(0,t.inject)(i.Router,r.SharedState,n.ProfileService)((l=function(){function r(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o(this,"article",c,this),o(this,"toggle",u,this),this.router=e,this.sharedState=t,this.profileService=i}return r.prototype.onToggleFollowing=function(){this.sharedState.isAuthenticated?(this.article.author.following=!this.article.author.following,this.article.author.following?this.profileService.follow(this.article.author.username):this.profileService.unfollow(this.article.author.username),this.toggle(this.article.author.following)):this.router.navigateToRoute("login")},r}(),c=a(l.prototype,"article",[t.bindable],{enumerable:!0,initializer:null}),u=a(l.prototype,"toggle",[t.bindable],{enumerable:!0,initializer:null}),s=l))||s}),define("text!shared/buttons/follow-button.html",["module"],function(e){e.exports='<template><button class="btn btn-sm btn-outline-secondary" click.delegate="onToggleFollowing()"><i class="ion-plus-round"></i><slot></slot></button></template>'}),define("shared/buttons/favorite-button",["exports","aurelia-framework","aurelia-router","../../shared/state/shared-state","../../shared/services/article-service"],function(e,t,i,r,n){"use strict";function o(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function a(i,r,e,t,n){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(i,r,e)||e},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(i,r,o),o=null),o}var s,l,c,u;Object.defineProperty(e,"__esModule",{value:!0}),e.FavoriteButton=void 0;e.FavoriteButton=(0,t.inject)(i.Router,r.SharedState,n.ArticleService)((l=function(){function r(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o(this,"article",c,this),o(this,"toggle",u,this),this.router=e,this.sharedState=t,this.articleService=i}return r.prototype.onToggleFavorited=function(){this.sharedState.isAuthenticated?(this.article.favorited=!this.article.favorited,this.article.favorited?this.articleService.favorite(this.article.slug):this.articleService.unfavorite(this.article.slug),this.toggle(this.article.favorited)):this.router.navigateToRoute("login")},r}(),c=a(l.prototype,"article",[t.bindable],{enumerable:!0,initializer:null}),u=a(l.prototype,"toggle",[t.bindable],{enumerable:!0,initializer:null}),s=l))||s}),define("text!shared/buttons/favorite-button.html",["module"],function(e){e.exports='<template><button class="btn ${!article.favorited ? \'btn-outline-primary\' : \'btn-primary\'} btn-sm" click.delegate="onToggleFavorited()"><i class="ion-heart"></i><slot></slot></button></template>'}),define("resources/value-converters/markdown-html",["exports","marked"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHtmlValueConverter=void 0;var i,r=(i=t)&&i.__esModule?i:{default:i};e.MarkdownHtmlValueConverter=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.toView=function(e){return(0,r.default)(e)},e}()}),define("resources/value-converters/keys",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.KeysValueConverter=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.toView=function(e){if(e)return Reflect.ownKeys(e)},e}()}),define("resources/value-converters/format-html",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.FormatHtmlValueConverter=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.toView=function(e){return e.replace(/(?:\r\n|\r|\n)/g,"<br />")},e}()}),define("resources/value-converters/date",["exports","moment"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateValueConverter=void 0;var i,r=(i=t)&&i.__esModule?i:{default:i};e.DateValueConverter=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.toView=function(e){return(0,r.default)(e).format("MMMM D, YYYY")},e}()}),define("resources/index",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.configure=function(e){e.globalResources(["./value-converters/date","./value-converters/format-html","./value-converters/markdown-html","./value-converters/keys"])}}),define("resources/elements/article-preview",["exports","aurelia-framework"],function(e,t){"use strict";var i,o;Object.defineProperty(e,"__esModule",{value:!0}),e.ArticlePreview=void 0;var r,n,a,s,l,c;e.ArticlePreview=(i=function(){function n(){var e,t,i,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t="article",r=e=this,(i=o)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}return n.prototype.onToggleFavorited=function(e){e?this.article.favoritesCount++:this.article.favoritesCount--},n}(),r=i.prototype,n="article",a=[t.bindable],s={enumerable:!0,initializer:null},c={},Object.keys(s).forEach(function(e){c[e]=s[e]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},c),l&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(l):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(r,n,c),c=null),o=c,i)}),define("text!resources/elements/article-preview.html",["module"],function(e){e.exports='<template><require from="../../shared/buttons/favorite-button"></require><div class="article-preview"><div class="article-meta"><a route-href="route: profile; params.bind: {name: article.author.username}"><img src.bind="article.author.image"></a><div class="info"><a route-href="route: profile; params.bind: {name: article.author.username}" class="author"> ${article.author.username}</a><span class="date">${article.createdAt | date}</span></div><favorite-button article.bind="article" toggle.bind="onToggleFavorited" class="pull-xs-right"> ${article.favoritesCount} </favorite-button></div><a route-href="route: article; params.bind: { slug: article.slug }" class="preview-link"><h1>${article.title}</h1><p>${article.description}</p><span>Read more...</span><ul class="tag-list"><li repeat.for="tag of article.tagList" class="tag-default tag-pill tag-outline">${tag}</li></ul></a></div></template>'}),define("resources/elements/article-list",["exports","aurelia-framework"],function(e,t){"use strict";function i(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function r(i,r,e,t,n){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(i,r,e)||e},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(i,r,o),o=null),o}var n,o,a,s,l,c;Object.defineProperty(e,"__esModule",{value:!0}),e.ArticleList=void 0;e.ArticleList=(o=r((n=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"articles",o,this),i(this,"pageNumber",a,this),i(this,"totalPages",s,this),i(this,"currentPage",l,this),i(this,"setPageCb",c,this)}).prototype,"articles",[t.bindable],{enumerable:!0,initializer:null}),a=r(n.prototype,"pageNumber",[t.bindable],{enumerable:!0,initializer:null}),s=r(n.prototype,"totalPages",[t.bindable],{enumerable:!0,initializer:null}),l=r(n.prototype,"currentPage",[t.bindable],{enumerable:!0,initializer:null}),c=r(n.prototype,"setPageCb",[t.bindable],{enumerable:!0,initializer:null}),n)}),define("text!resources/elements/article-list.html",["module"],function(e){e.exports='<template><require from="./article-preview"></require><div class="article-preview" if.bind="articles.length === 0">No articles are here... yet.</div><article-preview repeat.for="article of articles" article.bind="article"></article-preview><nav if.bind="totalPages.length > 1"><ul class="pagination"><li class="page-item ${pageNumber === currentPage ? \'active\' : \'\'}" repeat.for="pageNumber of totalPages" click.delegate="setPageCb({pageNumber: pageNumber})"><a class="page-link" href="#">${pageNumber}</a></li></ul></nav></template>'}),define("main",["exports","./environment","aurelia-fetch-client","./shared/services/http-interceptor"],function(e,t,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.configure=function(e){e.use.standardConfiguration().feature("resources").feature("shared"),t=e.container,i=t.get(n.HttpClient),r=t.get(o.HttpInterceptor),i.configure(function(e){e.withDefaults().withInterceptor(r)}),a.default.debug&&e.use.developmentLogging();var t,i,r;a.default.testing&&e.use.plugin("aurelia-testing");e.start().then(function(){return e.setRoot()})};var i,a=(i=t)&&i.__esModule?i:{default:i}}),define("environment",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={debug:!1,testing:!1}}),define("components/settings/settings-component",["exports","aurelia-dependency-injection","aurelia-router","../../shared/services/user-service","../../shared/state/shared-state"],function(e,t,i,r,n){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.SettingsComponent=void 0;e.SettingsComponent=(0,t.inject)(r.UserService,n.SharedState,i.Router)(o=function(){function r(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.userService=e,this.sharedState=t,this.router=i}return r.prototype.update=function(){this.userService.update(this.sharedState.currentUser)},r.prototype.logout=function(){this.userService.purgeAuth(),this.router.navigateToRoute("home")},r}())||o}),define("text!components/settings/settings-component.html",["module"],function(e){e.exports='<template><div class="settings-page"><div class="container page"><div class="row"><div class="col-md-6 offset-md-3 col-xs-12"><h1 class="text-xs-center">Your Settings</h1><form><fieldset><fieldset class="form-group"><input class="form-control" type="text" placeholder="URL of profile picture" value.bind="sharedState.currentUser.image"></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Your Name" value.bind="sharedState.currentUser.username"></fieldset><fieldset class="form-group"><textarea class="form-control form-control-lg" rows="8" placeholder="Short bio about you" value.bind="sharedState.currentUser.bio"></textarea></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Email" value.bind="sharedState.currentUser.email"></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="password" placeholder="Password" value.bind="sharedState.currentUser.password"></fieldset><button class="btn btn-lg btn-primary pull-xs-right" click.delegate="update()">Update Settings</button></fieldset></form><hr><button class="btn btn-outline-danger" click.delegate="logout()">Or click here to logout.</button></div></div></div></div></template>'}),define("components/profile/profile-favorites-component",["exports","aurelia-dependency-injection","../../shared/services/article-service"],function(e,t,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileFavoritesComponent=void 0;e.ProfileFavoritesComponent=(0,t.inject)(i.ArticleService)(r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.articles=[],this.currentPage=1,this.limit=10,this.articleService=e}return t.prototype.activate=function(e,t){return this.username=e.name,this.getArticles()},t.prototype.getArticles=function(){var i=this,e={limit:this.limit,offset:this.limit*(this.currentPage-1),favorited:this.username};return this.articleService.getList("all",e).then(function(e){var t;i.articles.splice(0),(t=i.articles).push.apply(t,e.articles),i.totalPages=Array.from(new Array(Math.ceil(e.articlesCount/i.limit)),function(e,t){return t+1})})},t.prototype.setPageTo=function(e){this.currentPage=e,this.getArticles()},t}())||r}),define("text!components/profile/profile-favorites-component.html",["module"],function(e){e.exports='<template><require from="../../resources/elements/article-list"></require><article-list articles.bind="articles" total-pages.bind="totalPages" page-number.bind="pageNumber" current-page.bind="currentPage" set-page-cb.call="setPageTo(pageNumber)"></article-list></template>'}),define("components/profile/profile-component",["exports","aurelia-dependency-injection","aurelia-framework","../../shared/state/shared-state","../../shared/services/user-service","../../shared/services/profile-service"],function(e,t,i,r,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileComponent=void 0;var a,s,l,c,u=function(){function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}}();var f,d,p,h,v,m;e.ProfileComponent=(a=(0,t.inject)(r.SharedState,o.ProfileService),s=(0,i.computedFrom)("sharedState.currentUser.username"),a((c=function(){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.sharedState=e,this.profileService=t}return i.prototype.configureRouter=function(e,t){e.map([{route:[""],moduleId:"components/profile/profile-article-component",name:"profilearticle",title:"Profile"},{route:["favorites"],moduleId:"components/profile/profile-favorites-component",name:"profilefavorites",title:"Profile"}]),this.router=t},i.prototype.activate=function(e,t){var i=this;return this.username=e.name,this.profileService.get(this.username).then(function(e){return i.profile=e})},i.prototype.onToggleFollowing=function(){this.sharedState.isAuthenticated?(this.profile.following=!this.profile.following,this.profile.following?this.profileService.follow(this.profile.username):this.profileService.unfollow(this.profile.username)):this.router.navigateToRoute("login")},u(i,[{key:"isUser",get:function(){return this.profile.username===this.sharedState.currentUser.username}}]),i}(),f=c.prototype,d="isUser",p=[s],h=Object.getOwnPropertyDescriptor(c.prototype,"isUser"),v=c.prototype,m={},Object.keys(h).forEach(function(e){m[e]=h[e]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=p.slice().reverse().reduce(function(e,t){return t(f,d,e)||e},m),v&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(v):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(f,d,m),m=null),l=c))||l)}),define("text!components/profile/profile-component.html",["module"],function(e){e.exports='<template><div class="profile-page"><div class="user-info"><div class="container"><div class="row"><div class="col-xs-12 col-md-10 offset-md-1"><img src.bind="profile.image" class="user-img"><h4>${profile.username}</h4><p>${profile.bio}</p><button class="btn btn-sm btn-outline-secondary action-btn" if.bind="!isUser" click.delegate="onToggleFollowing()"><i class="ion-plus-round"></i> &nbsp; ${profile.following ? \'Unfollow\' : \'Follow\'} ${profile.username} </button> <a route-href="route: settings" class="btn btn-sm btn-outline-secondary action-btn" if.bind="isUser"><i class="ion-gear-a"></i> Edit Profile Settings</a></div></div></div></div><div class="container"><div class="row"><div class="col-xs-12 col-md-10 offset-md-1"><div class="articles-toggle"><ul class="nav nav-pills outline-active"><li class="nav-item"><a class="nav-link ${router.currentInstruction.config.name !== \'profilefavorites\' ? \'active\' : \'\'}" route-href="route: profilearticle">My Posts</a></li><li class="nav-item"><a class="nav-link ${router.currentInstruction.config.name === \'profilefavorites\' ? \'active\' : \'\'}" route-href="route: profilefavorites">Favorited Posts</a></li></ul></div><router-view></router-view></div></div></div></div></template>'}),define("components/profile/profile-article-component",["exports","aurelia-dependency-injection","../../shared/services/article-service"],function(e,t,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileArticleComponent=void 0;e.ProfileArticleComponent=(0,t.inject)(i.ArticleService)(r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.articles=[],this.currentPage=1,this.limit=10,this.articleService=e}return t.prototype.activate=function(e,t){return this.username=e.name,this.getArticles()},t.prototype.getArticles=function(){var i=this,e={limit:this.limit,offset:this.limit*(this.currentPage-1),author:this.username};return this.articleService.getList("all",e).then(function(e){var t;i.articles.splice(0),(t=i.articles).push.apply(t,e.articles),i.totalPages=Array.from(new Array(Math.ceil(e.articlesCount/i.limit)),function(e,t){return t+1})})},t.prototype.setPageTo=function(e){this.currentPage=e,this.getArticles()},t}())||r}),define("text!components/profile/profile-article-component.html",["module"],function(e){e.exports='<template><require from="../../resources/elements/article-list"></require><article-list articles.bind="articles" total-pages.bind="totalPages" page-number.bind="pageNumber" current-page.bind="currentPage" set-page-cb.call="setPageTo(pageNumber)"></article-list></template>'}),define("components/home/home-component",["exports","aurelia-framework","aurelia-dependency-injection","../../shared/state/shared-state","../../shared/services/article-service","../../shared/services/tag-service"],function(e,t,i,r,n,o){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.HomeComponent=void 0;e.HomeComponent=(0,i.inject)(r.SharedState,t.BindingEngine,n.ArticleService,o.TagService)(a=function(){function n(e,t,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.articles=[],this.shownList="all",this.tags=[],this.filterTag=void 0,this.currentPage=1,this.limit=10,this.sharedState=e,this.bindingEngine=t,this.articleService=i,this.tagService=r}return n.prototype.bind=function(){this.subscription=this.bindingEngine.propertyObserver(this.sharedState,"isAuthenticated").subscribe(function(e,t){console.log("homeComponent isAuthenticated: ",e)})},n.prototype.unbind=function(){this.subscription.dispose()},n.prototype.attached=function(){this.getArticles(),this.getTags()},n.prototype.getArticles=function(){var i=this,e={limit:this.limit,offset:this.limit*(this.currentPage-1)};void 0!==this.filterTag&&(e.tag=this.filterTag),this.articleService.getList(this.shownList,e).then(function(e){var t;i.articles.splice(0),(t=i.articles).push.apply(t,e.articles),i.totalPages=Array.from(new Array(Math.ceil(e.articlesCount/i.limit)),function(e,t){return t+1})})},n.prototype.getTags=function(){var i=this;this.tagService.getList().then(function(e){var t;i.tags.splice(0),(t=i.tags).push.apply(t,e)})},n.prototype.setListTo=function(e,t){("feed"!==e||this.sharedState.isAuthenticated)&&(this.shownList=e,this.filterTag=t,this.getArticles())},n.prototype.getFeedLinkClass=function(){var e="";return this.sharedState.isAuthenticated||(e+=" disabled"),"feed"===this.shownList&&(e+=" active"),e},n.prototype.setPageTo=function(e){this.currentPage=e,this.getArticles()},n}())||a}),define("text!components/home/home-component.html",["module"],function(e){e.exports='<template><require from="../../resources/elements/article-list"></require><div class="home-page"><div class="banner"><div class="container"><h1 class="logo-font">conduit</h1><p>A place to share your knowledge.</p></div></div><div class="container page"><div class="row"><div class="col-md-9"><div class="feed-toggle"><ul class="nav nav-pills outline-active"><li if.bind="sharedState.isAuthenticated" class="nav-item"><a class="nav-link" class.bind="shownList === \'feed\' && !filterTag ? \' active\' : \'\'" click.delegate="setListTo(\'feed\')">Your Feed</a></li><li class="nav-item"><a class="nav-link" class.bind="shownList === \'all\' && !filterTag ? \'active\' : \'\'" click.delegate="setListTo(\'all\')">Global Feed</a></li><li if.bind="filterTag" class="nav-item"><a class="nav-link active"><i class="ion-pound"></i> ${filterTag} </a></li></ul></div><article-list articles.bind="articles" total-pages.bind="totalPages" page-number.bind="pageNumber" current-page.bind="currentPage" set-page-cb.call="setPageTo(pageNumber)"></article-list></div><div class="col-md-3"><div class="sidebar"><p>Popular Tags</p><div class="tag-list"><a repeat.for="tag of tags" href="#" class="tag-pill tag-default" click.delegate="setListTo(\'all\', tag)">${tag}</a><div if.bind="tags.length === 0">No tags are here... yet.</div></div></div></div></div></div></div></template>'}),define("components/editor/editor-component",["exports","aurelia-framework","aurelia-router","../../shared/services/article-service"],function(e,t,i,r){"use strict";var n,o,a,s,l;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorComponent=void 0;var c,u,f,d,p,h;e.EditorComponent=(n=(0,t.inject)(r.ArticleService,i.Router),o=(0,t.observable)(),n((s=function(){function a(e,t){var i,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r="tag",o=i=this,(n=l)&&Object.defineProperty(i,r,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0}),this.articleService=e,this.router=t}return a.prototype.activate=function(e,t){var i=this;return this.routeConfig=t,this.slug=e.slug,this.slug?this.articleService.get(this.slug).then(function(e){i.article=e}):(this.article={title:"",description:"",body:"",tagList:[]},null)},a.prototype.tagChanged=function(e,t){void 0!==e&&""!==e&&this.addTag(this.tag)},a.prototype.addTag=function(e){this.article.tagList.push(e)},a.prototype.removeTag=function(e){this.article.tagList.splice(this.article.tagList.indexOf(e),1)},a.prototype.publishArticle=function(){var t=this;this.articleService.save(this.article).then(function(e){t.slug=e.slug,t.router.navigateToRoute("article",{slug:t.slug})})},a}(),c=s.prototype,u="tag",f=[o],d={enumerable:!0,initializer:null},h={},Object.keys(d).forEach(function(e){h[e]=d[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=f.slice().reverse().reduce(function(e,t){return t(c,u,e)||e},h),p&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(p):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(c,u,h),h=null),l=h,a=s))||a)}),define("text!components/editor/editor-component.html",["module"],function(e){e.exports='<template><div class="editor-page"><div class="container page"><div class="row"><div class="col-md-10 offset-md-1 col-xs-12"><form><fieldset><fieldset class="form-group"><input type="text" class="form-control form-control-lg" placeholder="Article Title" value.bind="article.title"></fieldset><fieldset class="form-group"><input type="text" class="form-control" placeholder="What\'s this article about?" value.bind="article.description"></fieldset><fieldset class="form-group"><textarea class="form-control" rows="8" placeholder="Write your article (in markdown)" value.bind="article.body"></textarea></fieldset><fieldset class="form-group"><input type="text" class="form-control" placeholder="Enter tags" value.bind="tag & updateTrigger:\'blur\'"><div class="tag-list"><span repeat.for="tag of article.tagList" class="tag-default tag-pill"><i class="ion-close-round" click.delegate="removeTag(tag)"></i> ${tag}</span></div></fieldset><button class="btn btn-lg pull-xs-right btn-primary" type="button" click.delegate="publishArticle()">Publish Article</button></fieldset></form></div></div></div></div></template>'}),define("components/auth/auth-component",["exports","aurelia-dependency-injection","aurelia-router","../../shared/services/user-service","../../shared/state/shared-state"],function(e,t,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthComponent=void 0;var o,a=function(){function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}}();e.AuthComponent=(0,t.inject)(r.UserService,n.SharedState,i.Router)(o=function(){function r(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.type="",this.username="",this.email="",this.password="",this.errors=null,this.userService=e,this.sharedState=t,this.router=i}return r.prototype.determineActivationStrategy=function(){return i.activationStrategy.replace},r.prototype.activate=function(e,t){this.type=t.name},r.prototype.submit=function(){var t=this;this.errors=null;var e={username:this.username,email:this.email,password:this.password};this.userService.attemptAuth(this.type,e).then(function(e){return t.router.navigateToRoute("home")}).catch(function(e){e.then(function(e){return t.errors=e.errors})})},a(r,[{key:"canSave",get:function(){return"login"===this.type?""!==this.email&&""!==this.password:""!==this.username&&""!==this.email&&""!==this.password}}]),r}())||o}),define("text!components/auth/auth-component.html",["module"],function(e){e.exports='<template><div class="auth-page"><div class="container page"><div class="row"><div class="col-md-6 offset-md-3 col-xs-12"><h1 class="text-xs-center">Sign ${type === \'login\' ? \'in\' : \'up\'}</h1><p class="text-xs-center"><a route-href="route: login" if.bind="type === \'register\'">Have an account?</a> <a route-href="route: register" if.bind="type === \'login\'">Need an account?</a></p><ul class="error-messages" if.bind="controller.errors"><li repeat.for="error of controller.errors"> ${error.message} </li></ul><ul class="error-messages"><li repeat.for="key of errors | keys">${key}&nbsp;${errors[key]}</li></ul><form><fieldset class="form-group" if.bind="type === \'register\'"><input class="form-control form-control-lg" type="text" placeholder="Your Name" value.bind="username" required></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Email" value.bind="email" required></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="password" placeholder="Password" value.bind="password"></fieldset><button class="btn btn-lg btn-primary pull-xs-right" click.trigger="submit()" disabled.bind="!canSave">Sign ${type === \'login\' ? \'in\' : \'up\'} </button></form></div></div></div></div></template>'}),define("components/article/comment",["exports","aurelia-framework","../../shared/state/shared-state"],function(e,t,i){"use strict";function r(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}Object.defineProperty(e,"__esModule",{value:!0}),e.CommentCustomElement=void 0;var n,o,a,s,l,c,u=function(){function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}}();function f(i,r,e,t,n){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(i,r,e)||e},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(i,r,o),o=null),o}e.CommentCustomElement=(n=(0,t.inject)(i.SharedState),o=(0,t.computedFrom)("sharedState.currentUser.username"),n((s=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,"comment",l,this),r(this,"deleteCb",c,this),this.sharedState=e}return u(t,[{key:"canModify",get:function(){return this.comment.author.username===this.sharedState.currentUser.username}}]),t}(),l=f(s.prototype,"comment",[t.bindable],{enumerable:!0,initializer:null}),c=f(s.prototype,"deleteCb",[t.bindable],{enumerable:!0,initializer:null}),f(s.prototype,"canModify",[o],Object.getOwnPropertyDescriptor(s.prototype,"canModify"),s.prototype),a=s))||a)}),define("text!components/article/comment.html",["module"],function(e){e.exports='<template><div class="card"><div class="card-block"><p class="card-text">${comment.body}</p></div><div class="card-footer"><a route-href="route: profile; params.bind: {name: comment.author.username}" class="comment-author"><img src.bind="comment.author.image" class="comment-author-img"> </a>&nbsp; <a route-href="route: profile; params.bind: {name: comment.author.username}" class="comment-author">${comment.author.username}</a><span class="date-posted">${comment.createdAt | date}</span><span class="mod-options" if.bind="canModify"><i class="ion-trash-a" click.delegate="deleteCb({commentId: comment.id})"></i></span></div></div></template>'}),define("components/article/article-meta",["exports","aurelia-framework","aurelia-router","../../shared/services/article-service","../../shared/state/shared-state"],function(e,t,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArticleMeta=void 0;var o,a,s,l,c,u=function(){function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}}();function f(i,r,e,t,n){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(i,r,e)||e},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(i,r,o),o=null),o}e.ArticleMeta=(o=(0,t.inject)(r.ArticleService,n.SharedState,i.Router),a=(0,t.computedFrom)("sharedState.currentUser.username"),o((l=function(){function s(e,t,i){var r,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),n="article",a=r=this,(o=c)&&Object.defineProperty(r,n,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(a):void 0}),this.articleService=e,this.sharedState=t,this.router=i}return s.prototype.onToggleFavorited=function(e){e?this.article.favoritesCount++:this.article.favoritesCount--},s.prototype.onToggleFollowing=function(e){this.article.author.following=e},s.prototype.deleteArticle=function(){var e=this;this.articleService.destroy(this.article.slug).then(function(){return e.router.navigateToRoute("home")})},u(s,[{key:"canModify",get:function(){return this.article.author.username===this.sharedState.currentUser.username}}]),s}(),c=f(l.prototype,"article",[t.bindable],{enumerable:!0,initializer:null}),f(l.prototype,"canModify",[a],Object.getOwnPropertyDescriptor(l.prototype,"canModify"),l.prototype),s=l))||s)}),define("text!components/article/article-meta.html",["module"],function(e){e.exports='<template><require from="../../shared/buttons/favorite-button"></require><require from="../../shared/buttons/follow-button"></require><div class="article-meta"><a route-href="route: profile; params.bind: {name: article.author.username}"><img src.bind="article.author.image"></a><div class="info"><a route-href="route: profile; params.bind: {name: article.author.username}" class="author">${article.author.username}</a><span class="date">${article.createdAt | date}</span></div><span if.bind="canModify"><a class="btn btn-outline-secondary btn-sm" route-href="route: editor; params.bind: {slug: article.slug}"><i class="ion-edit"></i>&nbsp;Edit Article </a>&nbsp;&nbsp; <button class="btn btn-outline-danger btn-sm" click.delegate="deleteArticle()"><i class="ion-trash-a"></i>&nbsp;Delete Article</button> </span><span if.bind="!canModify"><follow-button article.bind="article" toggle.bind="onToggleFollowing">&nbsp; ${article.author.following ? \'Unfollow\' : \'Follow\'} ${article.author.username} </follow-button>&nbsp;&nbsp;<favorite-button article.bind="article" toggle.bind="onToggleFavorited">&nbsp; ${article.favorited ? \'Unfavorite\' : \'Favorite\'} Post <span class="counter">(${article.favoritesCount})</span></favorite-button></span></div></template>'}),define("components/article/article-component",["exports","aurelia-dependency-injection","../../shared/services/article-service","../../shared/services/comment-service","../../shared/state/shared-state"],function(e,t,i,r,n){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.ArticleComponent=void 0;e.ArticleComponent=(0,t.inject)(i.ArticleService,r.CommentService,n.SharedState)(o=function(){function r(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.articleService=e,this.commentService=t,this.sharedState=i}return r.prototype.activate=function(e){var t=this;return this.slug=e.slug,this.articleService.get(this.slug).then(function(e){t.article=e,t.commentService.getList(t.slug).then(function(e){return t.comments=e})})},r.prototype.postComment=function(){var t=this;return this.commentService.add(this.slug,this.myComment).then(function(e){t.comments.push(e),t.myComment=""})},r.prototype.deleteComment=function(e){var t=this;this.commentService.destroy(e,this.slug).then(function(){t.commentService.getList(t.slug).then(function(e){return t.comments=e})})},r}())||o}),define("text!components/article/article-component.html",["module"],function(e){e.exports='<template><require from="./comment"></require><require from="./article-meta"></require><div class="article-page"><div class="banner"><div class="container"><h1>${article.title}</h1><article-meta article.bind="article"></article-meta></div></div><div class="container page"><div class="row article-content"><div class="col-md-12"><div innerhtml.bind="article.body | markdownHtml"></div></div></div><hr><div class="article-actions"><article-meta article.bind="article"></article-meta></div><div class="row"><div class="col-xs-12 col-md-8 offset-md-2"><form class="card comment-form" if.bind="sharedState.isAuthenticated"><div class="card-block"><textarea class="form-control" placeholder="Write a comment..." rows="3" value.bind="myComment"></textarea></div><div class="card-footer"><img src.bind="sharedState.currentUser.image" class="comment-author-img"> <button class="btn btn-sm btn-primary" click.delegate="postComment()">Post Comment</button></div></form><comment repeat.for="comment of comments" comment.bind="comment" delete-cb.call="deleteComment(commentId)"></comment></div></div></div></div></template>'}),define("app",["exports","aurelia-dependency-injection","./shared/services/user-service","./shared/state/shared-state","aurelia-router"],function(e,t,i,r,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.AuthorizeStep=e.App=void 0;e.App=(0,t.inject)(i.UserService)(a=function(){function t(e){o(this,t),this.message="Hello World!",this.userService=e}return t.prototype.configureRouter=function(e,t){e.title="Conduit",e.addAuthorizeStep(l),e.map([{route:["","home"],moduleId:"components/home/home-component",name:"home",title:"Home"},{route:["login"],moduleId:"components/auth/auth-component",name:"login",title:"Sign in"},{route:["register"],moduleId:"components/auth/auth-component",name:"register",title:"Sign up"},{route:["settings"],moduleId:"components/settings/settings-component",name:"settings",title:"Settings",settings:{auth:!0}},{route:[":name"],moduleId:"components/profile/profile-component",name:"profile",title:"Profile"},{route:["editor/:slug?"],moduleId:"components/editor/editor-component",name:"editor",title:"Editor",settings:{auth:!0}},{route:["article/:slug"],moduleId:"components/article/article-component",name:"article",title:"article"}]),this.router=t},t.prototype.attached=function(){this.userService.populate()},t}())||a;var l=e.AuthorizeStep=(0,t.inject)(r.SharedState)(s=function(){function t(e){o(this,t),this.state=e}return t.prototype.run=function(e,t){if(e.getAllInstructions().some(function(e){return e.config.settings.auth})&&!this.state.isAuthenticated)return t.cancel(new n.Redirect("login"));return t()},t}())||s}),define("text!app.html",["module"],function(e){e.exports='<template><require from="./shared/layouts/header-layout"></require><require from="./shared/layouts/footer-layout"></require><header-layout router-config.bind="router.currentInstruction.config"></header-layout><router-view></router-view><footer-layout></footer-layout></template>'});